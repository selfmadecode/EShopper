@model ProductViewModel


<div class="contentPage">
    <form data-ajax="true" data-ajax-failure="failed" data-ajax-complete="completed" asp-action="Add" asp-controller="StoreKeeper" data-ajax-method="post" >

        <div class="form-group">
            <label asp-for="Name">Name</label>
            <input asp-for="Name" class="form-control" placeholder="Enter Product Name">
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Quantity">Quantity</label>
            <input asp-for="Quantity" class="form-control" placeholder="Quantity">
            <span asp-validation-for="Quantity" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Amount">Amount</label>
            <input asp-for="Amount" class="form-control" placeholder="Amount">
            <span asp-validation-for="Amount" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="ExpiringDate">Expiry Date</label>
            <input asp-for="ExpiringDate" class="form-control" placeholder="Expriry Date">
            <span asp-validation-for="ExpiringDate" class="text-danger"></span>
        </div>
        <button type="submit" class="btn btn-primary">Add Product</button>
    </form>
</div>
<div>
    <h1 id="AjaxMsg"></h1>
</div>


@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/jquery-ajax-unobtrusive/jquery.unobtrusive-ajax.min.js"></script>


    <script>
        function completed(xhr) {

            if (xhr.responseJSON.responseText == "Success") {

                window.location.href = '/StoreKeeper/';

            };

            if (xhr.responseJSON.responseText == null) {
                alert("Failed oo");

                var tableData = document.getElementById("contentPage");
                tableData.innerHTML = xhr.responseText;
            };
        };

        function failed(xhr) {
            alert("Second");
        };

    </script>
}